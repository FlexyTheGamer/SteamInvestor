<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewmodels="clr-namespace:SteamInventoryAIR.ViewModels"
             xmlns:converters="clr-namespace:SteamInventoryAIR.Converters"
             x:Class="SteamInventoryAIR.MainPage"
             Title="MainPage"
             BackgroundColor="#1B1E23">

    <Grid RowDefinitions="*, 60">
        <!-- Main Content Area -->
        <Grid Grid.Row="0">
            <!-- Home Tab Content -->
            <StackLayout x:Name="HomeTabContent" IsVisible="{Binding SelectedTabIndex, Converter={StaticResource IntEqualConverter}, ConverterParameter=0}">
                <Label Text="{Binding WelcomeMessage}" 
                       x:Name="LB_WelcomeMessage"
                       Margin="20,10,20,10" 
                       TextColor="White" 
                       FontSize="24" 
                       HorizontalOptions="Center"
                       HorizontalTextAlignment="Center"/>
                <Label Text="Inventory Value" Margin="20,20,20,0" TextColor="White"/>
                <Border StrokeThickness="1" Stroke="Gray" Margin="20,5,20,10" StrokeShape="RoundRectangle 5">
                    <Label x:Name="LB_InventoryValue" Text="{Binding InventoryValue}" 
                           TextColor="Red" FontSize="20" HorizontalTextAlignment="Center" 
                           VerticalTextAlignment="Center" Padding="10"/>
                </Border>

                <Label Text="Inventory item quantity" Margin="20,10,20,0" TextColor="White"/>
                <Border StrokeThickness="1" Stroke="Gray" Margin="20,5,20,10" StrokeShape="RoundRectangle 5">
                    <Label x:Name="LB_InventoryQuantity" Text="{Binding InventoryItemQuantity}" 
                           TextColor="Red" FontSize="20" HorizontalTextAlignment="Center" 
                           VerticalTextAlignment="Center" Padding="10"/>
                </Border>

                <Label Text="Column Chart Graph" Margin="20,10,20,0" TextColor="White"/>
                <Border StrokeThickness="1" Stroke="Gray" Margin="20,5,20,10" StrokeShape="RoundRectangle 5" HeightRequest="150">
                    <Label Text="Column Chart Placeholder" TextColor="Gray" 
                           HorizontalTextAlignment="Center" VerticalTextAlignment="Center"/>
                </Border>

                <Label Text="Pie Chart Graph" Margin="20,10,20,0" TextColor="White"/>
                <Border StrokeThickness="1" Stroke="Gray" Margin="20,5,20,10" StrokeShape="RoundRectangle 5" HeightRequest="150">
                    <Label Text="Pie Chart Placeholder" TextColor="Gray" 
                           HorizontalTextAlignment="Center" VerticalTextAlignment="Center"/>
                </Border>
            </StackLayout>

            <!-- Inventory List Tab Content -->
            <StackLayout x:Name="ListTabContent" IsVisible="{Binding SelectedTabIndex, Converter={StaticResource IntEqualConverter}, ConverterParameter=1}">
                <Grid RowDefinitions="Auto, *" Margin="20">
                    <Grid Grid.Row="0" ColumnDefinitions="*, Auto">
                        <SearchBar x:Name="TB_Search" Placeholder="Search" Grid.Column="0" 
                                  BackgroundColor="#2A2E35" TextColor="White" PlaceholderColor="#AAAAAA"/>
                        <Button x:Name="BTN_Filter" Grid.Column="1" Text="🔍" FontSize="20" 
                               BackgroundColor="#2A2E35" TextColor="White" WidthRequest="50"/>
                    </Grid>

                    <ScrollView Grid.Row="1">
                        <StackLayout>
                            <!-- Placeholder for inventory items list -->
                            <Border StrokeThickness="1" Stroke="Gray" Margin="0,10,0,0" StrokeShape="RoundRectangle 5">
                                <Grid ColumnDefinitions="Auto, *, Auto, Auto" Padding="10">
                                    <Image Grid.Column="0" Source="dotnet_bot.png" HeightRequest="40" WidthRequest="40"/>
                                    <StackLayout Grid.Column="1" VerticalOptions="Center" Margin="10,0,0,0">
                                        <Label Text="Item #1 Name" TextColor="White"/>
                                        <Label Text="Item #1 Quantity" TextColor="Gray" FontSize="14"/>
                                    </StackLayout>
                                    <Label Grid.Column="2" Text="Item #1 Price €" TextColor="White" VerticalOptions="Center"/>
                                    <Button Grid.Column="3" Text="V" WidthRequest="30" HeightRequest="30" 
                                           BackgroundColor="Transparent" TextColor="White"/>
                                </Grid>
                            </Border>

                            <!-- Additional placeholder items would go here -->
                        </StackLayout>
                    </ScrollView>
                </Grid>
            </StackLayout>

            <!-- Monitoring Tab Content -->
            <StackLayout x:Name="MonitoringTabContent" IsVisible="{Binding SelectedTabIndex, Converter={StaticResource IntEqualConverter}, ConverterParameter=2}">
                <Grid RowDefinitions="Auto, *" Margin="20">
                    <Grid Grid.Row="0" ColumnDefinitions="*, Auto">
                        <SearchBar x:Name="TB_SearchMonitoring" Placeholder="Search" Grid.Column="0" 
                                  BackgroundColor="#2A2E35" TextColor="White" PlaceholderColor="#AAAAAA"/>
                        <Button x:Name="BTN_FilterMonitoring" Grid.Column="1" Text="🔍" FontSize="20" 
                               BackgroundColor="#2A2E35" TextColor="White" WidthRequest="50"/>
                    </Grid>

                    <ScrollView Grid.Row="1">
                        <StackLayout>
                            <Grid ColumnDefinitions="Auto, *">
                                <StackLayout Grid.Column="0" Spacing="10">
                                    <Button x:Name="BTN_PriceHistory" Text="•" BackgroundColor="#2A2E35" 
                                           TextColor="White" WidthRequest="40" HeightRequest="40"/>
                                    <Button x:Name="BTN_ChartView" Text="📊" BackgroundColor="#2A2E35" 
                                           TextColor="White" WidthRequest="40" HeightRequest="40"/>
                                </StackLayout>

                                <Border Grid.Column="1" StrokeThickness="1" Stroke="Gray" Margin="10,0,0,10" 
                                       StrokeShape="RoundRectangle 5" HeightRequest="100">
                                    <Label Text="Price History Chart Placeholder" TextColor="Gray" 
                                          HorizontalTextAlignment="Center" VerticalTextAlignment="Center"/>
                                </Border>
                            </Grid>

                            <!-- Monitoring item samples -->
                            <Border StrokeThickness="1" Stroke="Gray" Margin="0,10,0,0" StrokeShape="RoundRectangle 5">
                                <Grid ColumnDefinitions="Auto, *, Auto, Auto" Padding="10">
                                    <Image Grid.Column="0" Source="dotnet_bot.png" HeightRequest="40" WidthRequest="40"/>
                                    <StackLayout Grid.Column="1" VerticalOptions="Center" Margin="10,0,0,0">
                                        <Label Text="[Monitoring Item #1 Name]" TextColor="White"/>
                                        <Label Text="[Monitoring Item #1 Current Price] €" TextColor="Gray" FontSize="14"/>
                                    </StackLayout>
                                    <Button Grid.Column="3" Text="V" WidthRequest="30" HeightRequest="30" 
                                           BackgroundColor="Transparent" TextColor="White"/>
                                </Grid>
                            </Border>
                        </StackLayout>
                    </ScrollView>
                </Grid>
            </StackLayout>
        </Grid>

        <!-- Tab Bar -->
        <Grid Grid.Row="1" ColumnDefinitions="*, *, *" BackgroundColor="#2A2E35">
            <Button x:Name="BTN_HomeTab" Grid.Column="0" Text="🏠" 
                    Command="{Binding SelectHomeTabCommand}"
                    BackgroundColor="{Binding SelectedTabIndex, Converter={StaticResource IntEqualConverter}, ConverterParameter=0, FallbackValue=#2A2E35}"
                    TextColor="White" FontSize="24"/>

            <Button x:Name="BTN_ListTab" Grid.Column="1" Text="📋" 
                    Command="{Binding SelectListTabCommand}"
                    BackgroundColor="{Binding SelectedTabIndex, Converter={StaticResource IntEqualConverter}, ConverterParameter=1, FallbackValue=#2A2E35}"
                    TextColor="White" FontSize="24"/>

            <Button x:Name="BTN_MonitoringTab" Grid.Column="2" Text="📈" 
                    Command="{Binding SelectMonitoringTabCommand}"
                    BackgroundColor="{Binding SelectedTabIndex, Converter={StaticResource IntEqualConverter}, ConverterParameter=2, FallbackValue=#2A2E35}"
                    TextColor="White" FontSize="24"/>
        </Grid>
    </Grid>
</ContentPage>
